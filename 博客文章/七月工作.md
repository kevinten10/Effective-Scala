# 七月工作内容

-------------------------------------------------

## E2C

### 新功能开发

1. 配置新2C内容，并迁移场景到新2C

### 修复与升级

1. 升级fastjson版本
2. 防止APP未通过导致EDM丢失
3. 代码优化（结构、流程、方法）
4. 修复了随机MOCK失败的bug
5. 修复了tp字段的bug
6. 改进了sql的*查询

### 思考

1. E2C的重构，或可使用DAG结构，在复杂和简单之间找到折中

-------------------------------------------------

## ACCESS

### 新功能开发

1. 限流延时开发（1）使用注解代理进行延时：
    
    1. 加减延时法
    2. 改造的令牌桶延时法
    3. 金字塔信号量延时法
    
2. 限流延时开发（2）参考Hystrix:

    1. rxJava2的使用（回调、观察、异常处理）
    2. 线程池隔离法（调控线程池消费能力）
    3. 队列容量延时法（缓存队列）
    4. 不同的负载水平采用不同策略
    
3. 限流组件开发（1）使用Sentinel：
    
    1. 基于Sentinel实现限流功能
    2. 动态更新Rule的功能

### 修复与升级

1. 调用ES异常

    返回码为-1，原因为服务器主动断开了连接，有三种情况：
    1. 客户端超时（默认为3s），主动断开连接
    2. 服务端超时（查询超时），主动断开连接，TCP四次挥手只完成两次，导致-1错误码
    3. 客户端连接陈旧，服务端已经主动清理，导致没有对应的连接，抛出-1
    
    解决：先调大客户端超时时间为10s，若仍有问题，说明可能是服务端超时导致，观察下来应该是客户端超时的问题。

-------------------------------------------------

## ANALYSIS

### 新功能开发

1. 时间序列预测发送量和订单量

    TODO 对接prophet平台，算法的学习

2. ES/MySql爬虫分析数据EXCEL，生成报表

    TODO 发送邮件，图形化
  
3. 基于javafx的测试工具

    TODO 完成功能，响应式操作

### 修复与升级

-------------------------------------------------

## AWS 

### 新功能开发

1. Lambda架构的调研与资料整理
2. 在AWS上开发API应用（调度中心）

### 修复与升级
